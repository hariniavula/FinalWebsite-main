<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Shopping Behavior - Visualizations</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div id="navbar-placeholder"></div>

    <main class="content-page">
        <div class="content-container">
            <h1 class="page-title">Visualizations.</h1>
            
            <!-- Visualization 1 -->
            <div class="viz-card">
                <h2 class="viz-title">Visualization 1: US States' Purchasing Amounts</h2>
                
                <div class="viz-placeholder">
                    <iframe src="DS4200_Project-main/choropleth.html" 
                            width="100%" 
                            height="550PX" 
                            frameborder="0"
                            style="border: none; display: block;">
                    </iframe>
                </div>

                <div class="viz-description">
                    <div>
                        <h3>Description</h3>
                        <p>
                            This visualization shows spending patterns across the United States states using a choropleth map. Each state is drawn as a geographic shape, and the map uses real coordinates through an Albers USA projection. Color serves as the main visual channel. Darker shades of blue represent higher average purchase amounts, so viewers can understand which states show the strongest spending behavior. 
                        </p>
                    </div>

                    <div>
                        <h3>Interactive Features</h3>
                        <p>
                            When the viewer hovers over a state, the border becomes darker and thicker, and a tooltip appears with four key metrics: the state name, the average purchase amount, the number of unique customers, region, and the total number of transactions. This makes it easy to compare states one by one and see the details behind the color shading. There is also a filter to view only the states of each region (Northeast, Midwest, South, West) or view all states together.
                        </p>
                    </div>

                    <div>
                        <h3>Key Takeaways</h3>
                        <p>
                            For analysis, we decided to focus on the Northeast. The Northeast shows clear variation in spending. Based on the actual calculations, Pennsylvania has the highest average purchase amount at 66.57 dollars, making it the strongest performing state in this region. Rhode Island follows with 61.44 dollars. Massachusetts ranks close behind with an average purchase of 60.89 dollars, placing it in the upper tier of Northeast spending. Massachusetts also has a healthy customer base with 72 unique customers, which shows both high spending and strong engagement. States like Connecticut and New Jersey fall on the lower end with averages around 54.18 and 56.75 dollars, while Vermont, Maine, and New Hampshire sit in the mid to upper 50s. These results highlight clear takeaways for targeted marketing. Pennsylvania stands out as the highest value market in the Northeast based on spending alone. Massachusetts compares very well, combining a high average purchase level with a strong customer count. This makes Massachusetts an attractive state for marketing efforts, since customers there both spend more per transaction and show consistent activity. The map overall provides a helpful regional snapshot of consumer behavior and reveals which states offer the strongest opportunities for marketing focus. 
                        </p>
                    </div>
                </div>
            </div>

            <!-- Visualization 2 -->
            <div class="viz-card">
                <h2 class="viz-title">Visualization 2: Purchases in Different Product Categories and Seasons</h2>
                
                <div class="viz-placeholder">
                    <iframe src="DS4200_Project-main/seasonal_category_heatmap_ma.html" 
                            width="100%" 
                            height="550PX" 
                            frameborder="0"
                            style="border: none; display: block;">
                    </iframe>
                </div>
                
                <div class="viz-description">
                    <div>
                        <h3>Description</h3>
                        <p>
                            This heatmap focuses only on customers in Massachusetts. The mark is each rectangle which represents one combination of product category and season. For channels, this heatmap uses position on the vertical axis (Y-axis) to encode Product Categories and the horizontal axis (X-axis) to encode Seasons. The Number of Purchases is encoded with color intensity, where deeper orange indicates higher counts. 
                        </p>
                    </div>

                    <div>
                        <h3>Interactive Features</h3>
                        <p>
                            Hovering over a cell reveals the exact count and the percentage of that season's total, allowing you to see both raw demand and each category's seasonal share.
                        </p>
                    </div>

                    <div>
                        <h3>Key Takeaways</h3>
                        <p>
                            For Massachusetts customers, total seasonal purchases are 20 in Winter, 18 in Spring, 22 in Summer, and 12 in Fall, making Summer the busiest and Fall the lightest. Clothing is the dominant category overall with 34 purchases, compared with 18 for Accessories, 14 for Footwear, and 6 for Outerwear. Clothing is the top seller every season, especially in Winter (13 purchases, 65 percent of Winter activity) and Spring (10 purchases, 55.56 percent). Summer is the most balanced season: Clothing has 8 purchases (36.36 percent), Accessories climb to 7 (31.82 percent), Footwear holds at 4 (18.18 percent), and Outerwear reaches 3 (13.64 percent). In Fall, Accessories and Footwear tie for the top spot with 4 purchases each (33.33 percent), while Clothing follows with 3 (25 percent). These patterns show that Clothing drives Massachusetts purchasing throughout the year and should be the top inventory priority, especially in Winter and Spring. Summer and Fall still require Clothing, but Accessories and Footwear become far more important. Footwear peaks during transitional seasons like Spring and Fall, while Accessories rise in Summer and remain strong in Fall. Outerwear stays consistently low with only 6 total purchases across the year. Overall, Massachusetts shoppers show strong Clothing demand year round, with clear seasonal shifts that highlight when Accessories and Footwear should be emphasized for targeted marketing and inventory planning.
                        </p>
                    </div>
                </div>
            </div>

            <!-- Visualization 3 -->
            <div class="viz-card">
                <h2 class="viz-title">Visualization 3: Incentives and Promos on Purchasing Amount</h2>
                
                <div class="viz-placeholder">
                    <iframe src="DS4200_Project-main/interactive_boxplot.html" 
                            width="100%" 
                            height="500PX" 
                            frameborder="0"
                            style="border: none; display: block;">
                    </iframe>
                </div>

                <div class="viz-description">
                    <div>
                        <h3>Description</h3>
                        <p>
                            The visualization uses boxplot to compare purchases amounts between two incentive groups: customers who used a discount/promo and customers who used neither. The marks are rectangular boxes, median lines, and the whiskers represent the distribution of values. The channels are position on the y-axis that shows purchase amount, position on the x-axis that separates incentive groups, the length of the box encodes the IQR (variability), and the line inside the box shows the median, and the whiskers indicate the full range of values.
                        </p>
                    </div>

                    <div>
                        <h3>Interactive Features</h3>
                        <p>
                            Hovering over a cell reveals detailed statistics including mean, median, quartile values, and count for each incentive group.
                        </p>
                    </div>

                    <div>
                        <h3>Key Takeaways</h3>
                        <p>
                            The visualization shows that the purchase amounts for the two incentive types are mostly similar, but there are some small differences. Customers who used a Discount/Promo spent slightly more on average ($61.94) than those who Used Neither ($59.89). The spending for discounted customers was more consistent with a smaller standard deviation of $22.18 (compared to $23.79). The range of spending for those who used a discount was $74.0, while for the non-incentivized group it was slightly larger at $79.0. Overall, the visualization shows that while incentives slightly encourage higher and more consistent spending, the purchasing behavior remains similar for both groups. Therefore, the presence of an incentive has a small positive effect but is not the primary factor driving very high or very low purchase amounts.
                        </p>
                    </div>
                </div>
            </div>

            <!-- Visualization 4 -->
            <div class="viz-card">
                <h2 class="viz-title">Visualization 4: Purchase Amount by Gender & Age Group</h2>
                
                <div class="viz-placeholder">
                    <iframe src="DS4200_Project-main/d3_stackedbar/index.html" 
                            width="100%" 
                            height="600PX" 
                            frameborder="0"
                            style="border: none; display: block;">
                    </iframe>
                </div>
                
                <div class="viz-description">
                    <div>
                        <h3>Description</h3>
                        <p>
                            This bar chart visualizes total purchase amounts by gender in Massachusetts, with interactive age filtering. The chart uses bars as its marks. The channels include position along the x-axis to distinguish between gender categories (Male and Female), and length/position along the y-axis to encode total purchase amount. Select a Gender Bar to Filter the Distribution. Also, by clicking the bar a the histogram on the right to shows the distribution only for that gender.
                        </p>
                    </div>

                    <div>
                        <h3>Interactive Features</h3>
                        <p>
                            A continuous age slider allows users to filter purchases by setting a maximum age threshold. The slider displays a cumulative view - for example, selecting age 59 shows all purchases from customers aged 18 and below up to 59. The slider starts at the maximum age (showing all data) and can be adjusted to any age value to update the visualization. Also, with a brush-and-link interaction, clicking a gender bar filters the histogram to show only that gender's distribution.
                        </p>
                    </div>

                    <div>
                        <h3>Key Takeaways</h3>
                        <p>
                            This figure shows spending patterns across different demographics in Massachusetts, showing how purchase behavior varies by gender and age group. Men consistently outspend women across every age category. The highest spending demographic is men aged 61-70, while women aged 51-60 represent the lowest spending group. Also, there's an upward trend in average spending with age: average purchase amounts are lowest in the youngest cohorts (under 21), increase gradually through 21–30, 31–40, 41–50, and 51–60, and peak in the 61–70 group. This analysis highlights the need to maintain marketing focus on high-spending men and increase efforts toward under-spending women. Also, could be beneficial to prioritize premium products and higher-value promotions for older age groups while using discount-driven tactics to engage younger shoppers.
                        </p>
                    </div>
                </div>
            </div>

            <!-- Visualization 5 -->
            <div class="viz-card">
                <h2 class="viz-title">Visualization 5: Size Distribution by Category</h2>
                
                <div class="viz-placeholder">
                    <iframe src="DS4200_Project-main/size_distribution.html" 
                            width="100%" 
                            height="400PX" 
                            frameborder="0"
                            style="border: none; display: block;">
                    </iframe>
                </div>

                <div class="viz-description">
                    <div>
                        <h3>Description</h3>
                        <p>
                            The visualization uses a treemap to show how size counts are distributed within each product category. The marks are nested rectangles that represent categories and sizes. The channels are the area of each rectangle shows the number of purchases for each size, color distinguishes the product categories, and text labels identify the sizes within each section.
                        </p>
                    </div>

                    <div>
                        <h3>Interactive Features</h3>
                        <p>
                            This graph supports basic interactivity such as hover tooltips (showing size, count, and percentage) and zoom/pan controls provided by the plotting library. 
                        </p>
                    </div>

                    <div>
                        <h3>Key Takeaways</h3>
                        <p>
                            The visualization shows how different product categories in Massachusetts distribute their sales across sales. Clothing has the highest volume overall, with Medium and Small being the most common sizes. Accessories and Footwear also show stronger demand for Medium and Large, while Small is much less frequent in Footwear. Outerwear has the lowest volume but shows a more even spread across sizes. Overall, the treemap highlights that Medium is consistently the most popular size across categories, followed by Large and then Small, helping identify which sizes should be prioritized when stocking inventory.
                        </p>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <script>
        // Load navbar
        fetch('navbar.html')
            .then(response => response.text())
            .then(data => {
                document.getElementById('navbar-placeholder').innerHTML = data;
                initializeMenu();
            });

        function initializeMenu() {
            const hamburger = document.getElementById('hamburger');
            const navLinks = document.getElementById('navLinks');
            
            hamburger.addEventListener('click', function() {
                navLinks.classList.toggle('active');
                hamburger.classList.toggle('active');
            });

            document.querySelectorAll('.nav-link').forEach(link => {
                link.addEventListener('click', () => {
                    navLinks.classList.remove('active');
                    hamburger.classList.remove('active');
                });
            });

            const currentPage = window.location.pathname.split('/').pop() || 'index.html';
            document.querySelectorAll('.nav-link').forEach(link => {
                if (link.getAttribute('href') === currentPage) {
                    link.classList.add('active');
                }
            });
        }
    </script>
</body>
</html>